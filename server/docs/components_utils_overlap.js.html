<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/utils/overlap.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/utils/overlap.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** @class
 *  @summary Utility class implementing helper functions for determining container overlap.
 *  @description A set of methods implementing helper functions for determining container overlap 
 * */
export class ContainerOverlap {
    #container = null;

    constructor (container) {
        this.#container = container;
    }

    doBoundingBoxOverlap (leftBBox, rightBBox) {
        return !(
            leftBBox.right &lt;= rightBBox.left 
            || leftBBox.left >= rightBBox.right
            || leftBBox.top >= rightBBox.bottom 
            || leftBBox.bottom &lt;= rightBBox.top)
    }

    calculateOverlapBBox (leftBBox, rightBBox) {
        if (this.doBoundingBoxOverlap(leftBBox, rightBBox)) {
            return {
                left:(leftBBox.left &lt; rightBBox.left) ? rightBBox.left : leftBBox.left, 
                right:(leftBBox.right &lt; rightBBox.right) ? leftBBox.right : rightBBox.right,
                top:(leftBBox.top &lt; rightBBox.top) ? rightBBox.top : leftBBox.top,
                bottom:(leftBBox.bottom &lt; rightBBox.bottom) ? leftBBox.bottom : rightBBox.bottom 
            }
        }
        return undefined;
    }
    
    getOverlapBBox(left, right) {
        let leftBBox = this.#container.getBoundingBox(left)
        let rightBBox = this.#container.getBoundingBox(right)

        return this.calculateOverlapBBox(leftBBox, rightBBox);
    }

    getOverlapArea(bbox) {
        if (!bbox) {
            return 0;
        }

        return (bbox.right - bbox.left) * (bbox.bottom - bbox.top)
    }

    getOverlappingSiblings(targetId) {
        let target = this.#container.lookup(targetId);
        let result = []
        for (let sib of target.parentNode.children) { //childNodes
            if (sib.id !== target.id) {
                let overlapA = this.getOverlapArea(this.getOverlapBBox(target, sib))
                if (overlapA) {
                    let overlapP = overlapA / (this.#container.getWidth(sib) * this.#container.getHeight(sib))
                    result.push({id: sib.id, overlap: overlapA, overlapPercent: overlapP})
                }
            }
        }

        return result
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Container.html">Container</a></li><li><a href="module-LiveBridge.html">LiveBridge</a></li><li><a href="module-Mouse.html">Mouse</a></li><li><a href="module-Touch.html">Touch</a></li></ul><h3>Classes</h3><ul><li><a href="ContainerOverlap.html">ContainerOverlap</a></li><li><a href="InputAccessManager.html">InputAccessManager</a></li><li><a href="InputManager.html">InputManager</a></li><li><a href="Keyboard.html">Keyboard</a></li><li><a href="module-Container.Container.html">Container</a></li><li><a href="module-LiveBridge.LiveBridge.html">LiveBridge</a></li><li><a href="module-Mouse.Mouse.html">Mouse</a></li><li><a href="module-Touch.Touch.html">Touch</a></li></ul><h3>Global</h3><ul><li><a href="global.html#C_ABS_LVL">C_ABS_LVL</a></li><li><a href="global.html#findAbsPos">findAbsPos</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Dec 28 2021 13:04:13 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
